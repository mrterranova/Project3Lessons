{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Redirect}from'react-router-dom';import Layout from\"../core/components/NavigationBar/index\";import axios from'axios';import{isAuth}from'./helpers';import{ToastContainer,toast}from\"react-toastify\";import'react-toastify/dist/ReactToastify.min.css';var Signup=function Signup(){var _useState=useState({name:'Michal',email:'michalterranova@mail.com',password:'123456',btnText:'Submit'}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,email=values.email,password=values.password,btnText=values.btnText;var handleChange=function handleChange(name,email,password){return function(event){setValues(_objectSpread({},values,_defineProperty({},name,event.target.value)));};};var handleSubmitForm=function handleSubmitForm(event){event.preventDefault();setValues(_objectSpread({},values,{btnText:\"Submitting\"}));axios({method:\"POST\",url:process.env.REACT_APP_API+'/signup',data:{name:name,email:email,password:password}}).then(function(response){console.log(\"Signup Succeeded\",response);setValues(_objectSpread({},values,{name:'',email:'',password:'',btnText:\"Success\"}));toast.success(response.data.message);}).catch(function(error){console.log('Error in Signup',error.response.data);setValues(_objectSpread({},values,{btnText:'Submit'}));toast.error(error.response.data.error);});};var signupForm=function signupForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Name: \"),React.createElement(\"input\",{onChange:handleChange('name'),value:name,type:\"text\",className:\"form-control\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Email: \"),React.createElement(\"input\",{onChange:handleChange('email'),value:email,type:\"email\",className:\"form-control\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Password: \"),React.createElement(\"input\",{onChange:handleChange('password'),value:password,type:\"password\",className:\"form-control\"})),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"btn btn-warning\",onClick:handleSubmitForm,type:\"submit\"},btnText)));};return React.createElement(Layout,null,React.createElement(ToastContainer,null),isAuth()?React.createElement(Redirect,{to:\"/\"}):null,React.createElement(\"h1\",null,\" Signup \"),signupForm());};export default Signup;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/auth/Signup.js"],"names":["React","useState","Redirect","Layout","axios","isAuth","ToastContainer","toast","Signup","name","email","password","btnText","values","setValues","handleChange","event","target","value","handleSubmitForm","preventDefault","method","url","process","env","REACT_APP_API","data","then","response","console","log","success","message","catch","error","signupForm"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport  { Redirect } from 'react-router-dom';\r\nimport Layout from \"../core/components/NavigationBar/index\";\r\nimport axios from 'axios';\r\nimport { isAuth } from './helpers'\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        name: 'Michal',\r\n        email: 'michalterranova@mail.com',\r\n        password: '123456',\r\n        btnText: 'Submit'\r\n    })\r\n\r\n    const { name, email, password, btnText } = values\r\n\r\n    const handleChange = (name, email, password) => event => {\r\n        setValues({ ...values, [name]: event.target.value })\r\n    }\r\n\r\n    const handleSubmitForm = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, btnText: \"Submitting\" })\r\n            axios({\r\n                method: \"POST\",\r\n                url: process.env.REACT_APP_API + '/signup',\r\n                data: { name, email, password }\r\n            }).then(response => {\r\n                console.log(\"Signup Succeeded\", response)\r\n                setValues({ ...values, name: '', email: '', password: '', btnText: \"Success\" });\r\n                toast.success(response.data.message)\r\n            }).catch(error => {\r\n                console.log('Error in Signup', error.response.data)\r\n                setValues({ ...values, btnText: 'Submit' });\r\n                toast.error(error.response.data.error)\r\n            })\r\n    }\r\n\r\n\r\n    const signupForm = () => (\r\n        <form>\r\n            <div className=\"form-group\" >\r\n                <label className=\"text-muted\">Name: </label>\r\n                <input onChange={handleChange('name')} value={name} type=\"text\" className=\"form-control\" />\r\n            </div>\r\n            <div className=\"form-group\" >\r\n                <label className=\"text-muted\">Email: </label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n            <div className=\"form-group\" >\r\n                <label className=\"text-muted\">Password: </label>\r\n                <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" />\r\n            </div>\r\n            <div>\r\n                <button className=\"btn btn-warning\" onClick={handleSubmitForm} type=\"submit\">{btnText}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout>\r\n            <ToastContainer />\r\n            {isAuth() ? <Redirect to=\"/\" /> : null}\r\n            <h1> Signup </h1>\r\n            {signupForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}