{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';// import Layout from '../core/Layout';\nimport axios from'axios';import{isAuth,getCookie,signout}from'../../../../../auth/helpers';import'react-toastify/dist/ReactToastify.min.css';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.min.css';var UserNotes=function UserNotes(_ref){var history=_ref.history;var _useState=useState({showHideEdit:false,_id:\"\",name:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var token=getCookie('token');useEffect(function(){loadProfile();},[]);var loadProfile=function loadProfile(){axios({method:'GET',url:\"\".concat(process.env.REACT_APP_API,\"/user/\").concat(isAuth()._id),headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){var _response$data=response.data,role=_response$data.role,_id=_response$data._id,name=_response$data.name,email=_response$data.email,notes=_response$data.notes;setValues(_objectSpread({},values,{_id:_id,role:role,name:name,email:email,notes:notes}));}).catch(function(error){if(error.response.status===401){signout(function(){history.push('/');});}});};var _id=values._id;var AreYouSure=function AreYouSure(){return React.createElement(\"div\",null,React.createElement(\"div\",null,\"Are you sure you want to leave?\"),React.createElement(\"p\",null,\"Once you leave, your account will be deleted along with any information pertaining to your account.\"),React.createElement(\"p\",null,\"Administrators to Words of Glory do not save any data from users. Therefore, you will be unable to retrieve previous notes or bookmarks you made. If you wish to save any notes or bookmarks, please do so before removing yourself from Words of Glory. You will not be able to save notes or bookmarks without being a user, but you are always welcome to visit any of the lessons.\"),React.createElement(\"p\",null,\" If you are certain that you no longer wish to be a part of Words of Glory then click the button below.\"),React.createElement(\"p\",null,\"Thank you for your visit! We hope that you will return either way.\"),React.createElement(\"button\",{onClick:RemoveUser()},\"Yes, please remove me.\"));};var RemoveUser=function RemoveUser(){axios({method:'DELETE',url:\"\".concat(process.env.REACT_APP_API,\"/user/delete\")+_id,headers:{Authorization:'Bearer '+token}}).then(function(response){toast.success('You no longer have a profile.');});};return React.createElement(\"div\",null,React.createElement(\"div\",{onClick:function onClick(){return AreYouSure();}},\"Click here\"),React.createElement(ToastContainer,null));};export default UserNotes;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/core/pages/Private/components/UserSettings/DeleteProfile.js"],"names":["React","useState","useEffect","axios","isAuth","getCookie","signout","toast","ToastContainer","UserNotes","history","showHideEdit","_id","name","values","setValues","token","loadProfile","method","url","process","env","REACT_APP_API","headers","Authorization","then","response","data","role","email","notes","catch","error","status","push","AreYouSure","RemoveUser","success"],"mappings":"6QAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,OAA5B,KAA2C,6BAA3C,CACA,MAAO,2CAAP,CACA,OAASC,KAAT,CAAgBC,cAAhB,KAAsC,gBAAtC,CACA,MAAO,2CAAP,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACHT,QAAQ,CAAC,CACjCU,YAAY,CAAE,KADmB,CAEjCC,GAAG,CAAG,EAF2B,CAGjCC,IAAI,CAAE,EAH2B,CAAD,CADL,wCACxBC,MADwB,eAChBC,SADgB,eAO/B,GAAMC,CAAAA,KAAK,CAAGX,SAAS,CAAC,OAAD,CAAvB,CAEAH,SAAS,CAAC,UAAM,CACZe,WAAW,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBd,KAAK,CAAC,CACFe,MAAM,CAAE,KADN,CAEFC,GAAG,WAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,kBAAuClB,MAAM,GAAGQ,GAAhD,CAFD,CAGFW,OAAO,CAAE,CACLC,aAAa,kBAAYR,KAAZ,CADR,CAHP,CAAD,CAAL,CAOKS,IAPL,CAOU,SAAAC,QAAQ,CAAI,oBAC4BA,QAAQ,CAACC,IADrC,CACNC,IADM,gBACNA,IADM,CACAhB,GADA,gBACAA,GADA,CACKC,IADL,gBACKA,IADL,CACWgB,KADX,gBACWA,KADX,CACkBC,KADlB,gBACkBA,KADlB,CAEdf,SAAS,kBAAMD,MAAN,EAAcF,GAAG,CAAHA,GAAd,CAAmBgB,IAAI,CAAJA,IAAnB,CAAyBf,IAAI,CAAJA,IAAzB,CAA+BgB,KAAK,CAALA,KAA/B,CAAsCC,KAAK,CAALA,KAAtC,GAAT,CACH,CAVL,EAWKC,KAXL,CAWW,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACN,QAAN,CAAeO,MAAf,GAA0B,GAA9B,CAAmC,CAC/B3B,OAAO,CAAC,UAAM,CACVI,OAAO,CAACwB,IAAR,CAAa,GAAb,EACH,CAFM,CAAP,CAGH,CACJ,CAjBL,EAkBH,CAnBD,CAb+B,GAkCvBtB,CAAAA,GAlCuB,CAkCfE,MAlCe,CAkCvBF,GAlCuB,CAoC/B,GAAMuB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,MACI,gCACA,iEADA,CAEA,mIAFA,CAGA,sZAHA,CAIA,uIAJA,CAKA,kGALA,CAMA,8BAAQ,OAAO,CAAEC,UAAU,EAA3B,2BANA,CADJ,CAUH,CAXD,CAaA,GAAMA,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBjC,KAAK,CAAC,CACFe,MAAM,CAAE,QADN,CAEFC,GAAG,CAAE,UAAGC,OAAO,CAACC,GAAR,CAAYC,aAAf,iBAA4CV,GAF/C,CAGFW,OAAO,CAAE,CACLC,aAAa,CAAE,UAAWR,KADrB,CAHP,CAAD,CAAL,CAOKS,IAPL,CAOU,SAAAC,QAAQ,CAAI,CACVnB,KAAK,CAAC8B,OAAN,CAAc,+BAAd,EACH,CATT,EAUH,CAXD,CAaA,MACI,gCACR,2BAAK,OAAO,CAAE,yBAAIF,CAAAA,UAAU,EAAd,EAAd,eADQ,CAER,oBAAC,cAAD,MAFQ,CADJ,CAMH,CApED,CAsEA,cAAe1B,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\r\n// import Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth, getCookie, signout } from '../../../../../auth/helpers';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\n\r\n\r\nconst UserNotes = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        showHideEdit: false, \r\n        _id : \"\", \r\n        name: \"\"\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, []);\r\n\r\n    const loadProfile = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then(response => {\r\n                const { role, _id, name, email, notes } = response.data;\r\n                setValues({ ...values, _id, role, name, email, notes });\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 401) {\r\n                    signout(() => {\r\n                        history.push('/');\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    const { _id } = values;\r\n\r\n    const AreYouSure = () => {\r\n        return(\r\n            <div>\r\n            <div>Are you sure you want to leave?</div>\r\n            <p>Once you leave, your account will be deleted along with any information pertaining to your account.</p>\r\n            <p>Administrators to Words of Glory do not save any data from users. Therefore, you will be unable to retrieve previous notes or bookmarks you made. If you wish to save any notes or bookmarks, please do so before removing yourself from Words of Glory. You will not be able to save notes or bookmarks without being a user, but you are always welcome to visit any of the lessons.</p>\r\n            <p> If you are certain that you no longer wish to be a part of Words of Glory then click the button below.</p>\r\n            <p>Thank you for your visit! We hope that you will return either way.</p>\r\n            <button onClick={RemoveUser()}>Yes, please remove me.</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const RemoveUser = () => {\r\n        axios({\r\n            method: 'DELETE',\r\n            url: `${process.env.REACT_APP_API}/user/delete`+ _id,\r\n            headers: {\r\n                Authorization: 'Bearer '+ token\r\n            }\r\n        })\r\n            .then(response => {\r\n                    toast.success('You no longer have a profile.');\r\n                });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n<div onClick={()=>AreYouSure()}>Click here</div>\r\n<ToastContainer />\r\n</div>\r\n    );\r\n};\r\n\r\nexport default UserNotes;\r\n"]},"metadata":{},"sourceType":"module"}