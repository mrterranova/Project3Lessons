{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from\"react\";import axios from'axios';// import { Link } from 'react-router-dom';\nimport Layout from'../../components/NavigationBar/index';import'./style.css';import UserLesson from'./UserLesson';import Bookmarked from'./UserBookmark';import{isAuth}from'../../../auth/helpers';import{Button,Modal}from\"react-bootstrap\";var Lesson=/*#__PURE__*/function(_Component){_inherits(Lesson,_Component);function Lesson(){var _getPrototypeOf2;var _this;_classCallCheck(this,Lesson);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Lesson)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={lesson:\"\",show:false,scriptures:\"\",verses:\"\"};_this.loadLesson=function(){axios({method:'GET',url:\"\".concat(process.env.REACT_APP_API,\"/lesson/\")+_this.props.match.params.id}).then(function(res){_this.setState({lesson:res.data,scriptures:res.data.scriptures});});};return _this;}_createClass(Lesson,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadLesson();this.getVerse();}},{key:\"handleModal\",value:function handleModal(){if(this.state.show===false){this.setState({show:true});this.getVerse();}if(this.state.show===true){this.setState({show:false});}}},{key:\"getVerse\",value:function getVerse(){var _this2=this;var scriptureString=this.state.scriptures;var scriptureArray=scriptureString.split(\",\");var promiseArr=scriptureArray.map(function(verse){return axios({method:'GET',url:\"https://bible-api.com/\"+verse}).then(function(res){return React.createElement(Fragment,null,React.createElement(\"div\",{classname:\"verse-reference\",key:res.data.text},React.createElement(\"strong\",null,res.data.reference)),React.createElement(\"div\",{classname:\"verse-text\"},React.createElement(\"i\",null,res.data.text)),React.createElement(\"br\",null));});});Promise.all(promiseArr).then(function(values){_this2.setState({verses:values});});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",null,isAuth()&&React.createElement(Bookmarked,null),React.createElement(Layout,null),React.createElement(\"button\",{id:\"btn-scriptures\",onClick:function onClick(){_this3.handleModal();}},\"Scriptures\"),React.createElement(\"h2\",null,this.state.lesson.title),React.createElement(\"div\",{className:\"main\"}),React.createElement(\"div\",{className:\"backLessonNav\"}),React.createElement(\"div\",{className:\"lessonNav\"},React.createElement(\"div\",null,React.createElement(Modal,{show:this.state.show},React.createElement(Modal.Header,null,React.createElement(\"div\",{className:\"settings-title\"},React.createElement(\"h2\",null,\"Scriptures\"))),React.createElement(Modal.Body,null,React.createElement(\"div\",null,this.state.verses)),React.createElement(\"div\",{className:\"settings-modal-close\"},React.createElement(Button,{className:\"btn btn-info\",onClick:function onClick(){_this3.handleModal();}},\"Close\")),React.createElement(Modal.Footer,null)))),React.createElement(\"div\",{className:\"lessonDisplay\"},this.state.lesson.body),isAuth()&&React.createElement(UserLesson,null));}}]);return Lesson;}(Component);export default Lesson;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/core/pages/Lesson/Lesson.js"],"names":["React","Component","Fragment","axios","Layout","UserLesson","Bookmarked","isAuth","Button","Modal","Lesson","state","lesson","show","scriptures","verses","loadLesson","method","url","process","env","REACT_APP_API","props","match","params","id","then","res","setState","data","getVerse","scriptureString","scriptureArray","split","promiseArr","map","verse","text","reference","Promise","all","values","handleModal","title","body"],"mappings":"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","sourcesContent":["import React, { Component, Fragment} from \"react\";\r\nimport axios from 'axios';\r\n// import { Link } from 'react-router-dom';\r\nimport Layout from '../../components/NavigationBar/index';\r\nimport './style.css'\r\nimport UserLesson from './UserLesson'\r\nimport Bookmarked from './UserBookmark'\r\nimport { isAuth } from '../../../auth/helpers';\r\nimport { Button, Modal } from \"react-bootstrap\";\r\n\r\n\r\nclass Lesson extends Component {\r\n\r\n  state = {\r\n    lesson: \"\",\r\n    show: false,\r\n    scriptures: \"\", \r\n    verses: \"\",\r\n  };\r\n\r\n\r\n  componentDidMount() {\r\n    this.loadLesson();\r\n    this.getVerse();\r\n  }\r\n\r\n  loadLesson = () => {\r\n    axios({\r\n      method: 'GET',\r\n      url: `${process.env.REACT_APP_API}/lesson/` + this.props.match.params.id,\r\n    })\r\n      .then(res => {\r\n        this.setState({ lesson: res.data, scriptures: res.data.scriptures })\r\n      })\r\n  };\r\n\r\n  handleModal() {\r\n    if (this.state.show === false) {\r\n      this.setState({ show: true })\r\n      this.getVerse()\r\n    }\r\n    if (this.state.show === true) {\r\n      this.setState({ show: false })\r\n    }\r\n  }\r\n  \r\n  getVerse() {\r\n    const scriptureString = this.state.scriptures\r\n    const scriptureArray = scriptureString.split(\",\")\r\n    let promiseArr = scriptureArray.map(verse =>\r\n      axios({\r\n        method: 'GET',\r\n        url: `https://bible-api.com/` + verse\r\n      }).then(res => {\r\n        return (\r\n          <Fragment>\r\n          <div classname=\"verse-reference\" key={res.data.text}><strong>\r\n            {res.data.reference}</strong></div>\r\n            <div classname=\"verse-text\"><i>{res.data.text}</i></div>\r\n            <br/>\r\n          </Fragment>\r\n        )\r\n        })\r\n    )\r\n    Promise.all(promiseArr).then(values => {\r\n      this.setState({ verses: values})\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {isAuth() && (\r\n          <Bookmarked />\r\n            )}\r\n        <Layout />\r\n            <button id=\"btn-scriptures\" onClick={() => { this.handleModal() }}>Scriptures</button>\r\n        <h2>{this.state.lesson.title}</h2>\r\n        <div className=\"main\"></div>\r\n        <div className=\"backLessonNav\"></div>\r\n        <div className=\"lessonNav\">\r\n          <div>\r\n            <Modal show={this.state.show}>\r\n              <Modal.Header>\r\n                <div className=\"settings-title\">\r\n                  <h2 >\r\n                    Scriptures\r\n                        </h2>\r\n                </div>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <div>\r\n                  {this.state.verses}\r\n                </div>\r\n              </Modal.Body>\r\n              <div className='settings-modal-close'>\r\n                <Button className=\"btn btn-info\" onClick={() => { this.handleModal() }}>Close</Button>\r\n              </div>\r\n              <Modal.Footer>\r\n              </Modal.Footer>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lessonDisplay\">{this.state.lesson.body}</div>\r\n        {isAuth() && (\r\n        <UserLesson />\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Lesson;"]},"metadata":{},"sourceType":"module"}