{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\src\\\\core\\\\pages\\\\Lesson\\\\UserBookmark.js\";\nimport React, { useState, useEffect, Fragment } from 'react'; // import Layout from '../core/Layout';\n\nimport axios from 'axios';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { isAuth, getCookie } from '../../../auth/helpers';\n\nconst UserBookmark = ({\n  history\n}) => {\n  const _useState = useState({\n    lessonName: \"\",\n    UserId: \"\",\n    LessonId: \"\",\n    BookmarkId: \"\",\n    isBookmarked: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const token = getCookie('token');\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const handleChange = name => event => {\n    setValues(_objectSpread({}, values, {\n      lesson_title: lessonName,\n      [name]: event.target.value\n    }));\n  };\n\n  const loadProfile = () => {\n    //grabbing the URL from the window\n    const URLarray = window.document.URL.split(\"/\");\n    const URLarrVar = URLarray[URLarray.length - 1];\n    const URL_id = URLarrVar.split(\"?\"); //GET the correct logged user\n\n    axios({\n      method: 'GET',\n      url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      //set all the values of the user\n      if (response.data.notes.length === 0) {//if the user has notes identify if there is a bookmark that belong to this lesson\n      } else {\n        response.data.bookmarks.map(bookmark => {\n          if (bookmark.Lesson_id === URL_id[0]) {\n            setValues(_objectSpread({}, values, {\n              BookmarkId: bookmark._id,\n              isBookmarked: true\n            }));\n          }\n        });\n      }\n    });\n  };\n\n  const BookmarkId = values.BookmarkId,\n        isBookmarked = values.isBookmarked,\n        lessonName = values.lessonName; //handle all edits to the notes as a POST\n  // const handleSubmitEdit = () => {\n  //     const URLarray = window.document.URL.split(\"/\")\n  //     const URLarrVar = URLarray[URLarray.length - 1]\n  //     const URL_id = URLarrVar.split(\"?\")\n  //     axios({\n  //         method: 'GET',\n  //         url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\n  //         headers: {\n  //             Authorization: `Bearer ${token}`\n  //         }\n  //     })\n  //         .then(response => {\n  //             const userId = response.data._id\n  //             axios({\n  //                 method: \"POST\",\n  //                 url: process.env.REACT_APP_API + '/user/note/' + URL_id[0],\n  //                 headers: {\n  //                     Authorization: 'Bearer ' + token\n  //                 },\n  //                 data: { Lesson_id: URL_id[0], title: title, category: category, body: body, User_id: userId, _id: NoteId }\n  //             }).then(response => {\n  //                 console.log(title, body, category)\n  //             })\n  //         })\n  // }\n\n  function Image() {\n    if (this.state.isBookmarked) {\n      console.log('you made it', isBookmarked); // return <img src={'/images/bookmark-ribbon.png'} id=\"bookmark-lesson\" alt=\"bookmark\"/>\n    } else {\n      console.log('nope', isBookmarked);\n      return \"\";\n    }\n  } // what the user is viewing\n\n\n  return React.createElement(\"div\", {\n    classname: \"bookmark-container\",\n    style: {\n      backgroundColor: 'blue',\n      width: '400px',\n      height: '400px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  });\n};\n\nexport default UserBookmark;","map":{"version":3,"sources":["C:/Users/User/Desktop/MERN Passport/client/src/core/pages/Lesson/UserBookmark.js"],"names":["React","useState","useEffect","Fragment","axios","isAuth","getCookie","UserBookmark","history","lessonName","UserId","LessonId","BookmarkId","isBookmarked","values","setValues","token","loadProfile","handleChange","name","event","lesson_title","target","value","URLarray","window","document","URL","split","URLarrVar","length","URL_id","method","url","process","env","REACT_APP_API","_id","headers","Authorization","then","response","data","notes","bookmarks","map","bookmark","Lesson_id","Image","state","console","log","backgroundColor","width","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\n// import Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { isAuth, getCookie } from '../../../auth/helpers';\r\n\r\n\r\nconst UserBookmark = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        lessonName:\"\",\r\n        UserId: \"\",\r\n        LessonId: \"\",\r\n        BookmarkId: \"\", \r\n        isBookmarked: false\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, []);\r\n\r\n    const handleChange = (name) => event => {\r\n        setValues({ ...values, lesson_title: lessonName,  [name]: event.target.value })\r\n    }\r\n\r\n    const loadProfile = () => {\r\n        //grabbing the URL from the window\r\n        const URLarray = window.document.URL.split(\"/\")\r\n        const URLarrVar = URLarray[URLarray.length - 1]\r\n        const URL_id = URLarrVar.split(\"?\")\r\n\r\n        //GET the correct logged user\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then(response => {\r\n                //set all the values of the user\r\n                if (response.data.notes.length === 0) {\r\n                    //if the user has notes identify if there is a bookmark that belong to this lesson\r\n                } else {\r\n                    response.data.bookmarks.map(bookmark => {\r\n                        if (bookmark.Lesson_id === URL_id[0]) {\r\n                            setValues({ ...values, BookmarkId:bookmark._id, isBookmarked:true })\r\n                            \r\n                        }\r\n                    })\r\n                }\r\n\r\n            })\r\n    };\r\n\r\n    const { BookmarkId, isBookmarked, lessonName,  } = values;\r\n\r\n    //handle all edits to the notes as a POST\r\n    // const handleSubmitEdit = () => {\r\n    //     const URLarray = window.document.URL.split(\"/\")\r\n    //     const URLarrVar = URLarray[URLarray.length - 1]\r\n    //     const URL_id = URLarrVar.split(\"?\")\r\n    //     axios({\r\n    //         method: 'GET',\r\n    //         url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n    //         headers: {\r\n    //             Authorization: `Bearer ${token}`\r\n    //         }\r\n    //     })\r\n    //         .then(response => {\r\n    //             const userId = response.data._id\r\n    //             axios({\r\n    //                 method: \"POST\",\r\n    //                 url: process.env.REACT_APP_API + '/user/note/' + URL_id[0],\r\n    //                 headers: {\r\n    //                     Authorization: 'Bearer ' + token\r\n    //                 },\r\n    //                 data: { Lesson_id: URL_id[0], title: title, category: category, body: body, User_id: userId, _id: NoteId }\r\n    //             }).then(response => {\r\n    //                 console.log(title, body, category)\r\n    //             })\r\n    //         })\r\n    // }\r\n\r\n    function Image() {\r\n        if (this.state.isBookmarked) {\r\n            console.log('you made it',isBookmarked)\r\n            // return <img src={'/images/bookmark-ribbon.png'} id=\"bookmark-lesson\" alt=\"bookmark\"/>\r\n        } else {\r\n            console.log('nope', isBookmarked)\r\n            return \"\"\r\n        }\r\n    }\r\n\r\n    // what the user is viewing\r\n    return (\r\n        <div classname=\"bookmark-container\" style={{backgroundColor:'blue', width:'400px', height:'400px'}}>\r\n            {/* {this.state.isBookmarked} */}\r\n            {/* <Image /> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserBookmark;"]},"metadata":{},"sourceType":"module"}