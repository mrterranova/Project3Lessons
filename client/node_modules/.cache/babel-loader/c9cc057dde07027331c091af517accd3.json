{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar TableComponent = function TableComponent(_ref) {\n  var theme = _ref.theme;\n  return function (_Component) {\n    _inherits(Table, _Component);\n\n    function Table(props) {\n      _classCallCheck(this, Table);\n\n      var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Table).call(this));\n\n      _this.setFocus = function (row, column) {\n        var setFocus = _this.props.setFocus;\n        setFocus();\n\n        _this.setState({\n          focusedEdit: {\n            row: row,\n            column: column\n          }\n        });\n      };\n\n      _this.addRow = function () {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var rows = _this.state.rows;\n        var newRows = [].concat(_toConsumableArray(rows), [[]]);\n        setEntityData({\n          rows: newRows\n        });\n\n        _this.setState({\n          rows: newRows\n        });\n      };\n\n      _this.addColumn = function () {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var numberOfColumns = _this.state.numberOfColumns;\n        var newNumberOfColumns = (numberOfColumns || 1) + 1;\n        setEntityData({\n          numberOfColumns: newNumberOfColumns\n        });\n\n        _this.setState({\n          numberOfColumns: newNumberOfColumns\n        });\n      };\n\n      _this.updateEntityData = function (editorState, row, column) {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var _this$state = _this.state;\n        var rows = _this$state.rows;\n        var numberOfColumns = _this$state.numberOfColumns;\n        var newRows = rows || [{}];\n\n        while (newRows[row].length < (numberOfColumns || 1)) {\n          newRows[row].push(null);\n        }\n\n        newRows[row][column] = editorState;\n        setEntityData({\n          rows: newRows\n        });\n\n        _this.setState({\n          rows: newRows\n        });\n      };\n\n      _this.state = {\n        rows: props.blockProps.entityData.rows || [[]],\n        numberOfColumns: props.blockProps.entityData.numberOfColumns || 1,\n        focusedEdit: null\n      };\n      return _this;\n    }\n\n    _createClass(Table, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var addActions = this.props.addActions;\n\n        if (addActions) {\n          addActions([{\n            button: _react2.default.createElement('span', null, '+ Row'),\n            label: 'Add a row',\n            active: false,\n            toggle: function toggle() {\n              return _this2.addRow();\n            }\n          }, {\n            button: _react2.default.createElement('span', null, '+ Column'),\n            label: 'Add a column',\n            active: false,\n            toggle: function toggle() {\n              return _this2.addColumn();\n            }\n          }]);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this3 = this;\n\n        var _state = this.state;\n        var rows = _state.rows;\n        var numberOfColumns = _state.numberOfColumns;\n        var focusedEdit = _state.focusedEdit;\n        var _props = this.props;\n        var style = _props.style;\n        var className = _props.className;\n        var blockProps = _props.blockProps;\n        var isFocused = blockProps.isFocused;\n        var renderNestedEditor = blockProps.renderNestedEditor;\n        var classNames = [className, theme.table].filter(function (p) {\n          return p;\n        });\n        return _react2.default.createElement('table', {\n          className: classNames.join(' '),\n          cellSpacing: '0',\n          style: style\n        }, _react2.default.createElement('tbody', null, rows.map(function (row, rowI) {\n          return _react2.default.createElement('tr', {\n            key: rowI\n          }, Array.from(new Array(numberOfColumns), function (x, i) {\n            return i;\n          }).map(function (column, columnI) {\n            return _react2.default.createElement('td', {\n              key: columnI\n            }, renderNestedEditor({\n              block: _this3,\n              editorState: row[columnI],\n              onChange: function onChange(editorState) {\n                return _this3.updateEntityData(editorState, rowI, columnI);\n              },\n              setFocus: function setFocus() {\n                return _this3.setFocus(rowI, columnI);\n              },\n              active: isFocused && focusedEdit && focusedEdit.row === rowI && focusedEdit.column === columnI\n            }));\n          }));\n        })));\n      }\n    }]);\n\n    return Table;\n  }(_react.Component);\n};\n\nexports.default = TableComponent;","map":{"version":3,"sources":["C:/Users/User/Desktop/MERN Passport/client/node_modules/draft-js-table-plugin/lib/components/table.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TableComponent","_ref","theme","_Component","Table","_this","getPrototypeOf","setFocus","row","column","setState","focusedEdit","addRow","setEntityData","blockProps","rows","state","newRows","concat","addColumn","numberOfColumns","newNumberOfColumns","updateEntityData","editorState","_this$state","push","entityData","componentDidMount","_this2","addActions","button","createElement","label","active","toggle","render","_this3","_state","_props","style","className","isFocused","renderNestedEditor","classNames","table","filter","p","join","cellSpacing","map","rowI","x","columnI","block","onChange","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TableComponent = function TableComponent(_ref) {\n  var theme = _ref.theme;\n  return function (_Component) {\n    _inherits(Table, _Component);\n\n    function Table(props) {\n      _classCallCheck(this, Table);\n\n      var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Table).call(this));\n\n      _this.setFocus = function (row, column) {\n        var setFocus = _this.props.setFocus;\n\n        setFocus();\n        _this.setState({ focusedEdit: { row: row, column: column } });\n      };\n\n      _this.addRow = function () {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var rows = _this.state.rows;\n\n        var newRows = [].concat(_toConsumableArray(rows), [[]]);\n        setEntityData({ rows: newRows });\n        _this.setState({ rows: newRows });\n      };\n\n      _this.addColumn = function () {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var numberOfColumns = _this.state.numberOfColumns;\n\n        var newNumberOfColumns = (numberOfColumns || 1) + 1;\n        setEntityData({ numberOfColumns: newNumberOfColumns });\n        _this.setState({ numberOfColumns: newNumberOfColumns });\n      };\n\n      _this.updateEntityData = function (editorState, row, column) {\n        var setEntityData = _this.props.blockProps.setEntityData;\n        var _this$state = _this.state;\n        var rows = _this$state.rows;\n        var numberOfColumns = _this$state.numberOfColumns;\n\n        var newRows = rows || [{}];\n        while (newRows[row].length < (numberOfColumns || 1)) {\n          newRows[row].push(null);\n        }\n        newRows[row][column] = editorState;\n        setEntityData({ rows: newRows });\n        _this.setState({ rows: newRows });\n      };\n\n      _this.state = {\n        rows: props.blockProps.entityData.rows || [[]],\n        numberOfColumns: props.blockProps.entityData.numberOfColumns || 1,\n        focusedEdit: null\n      };\n      return _this;\n    }\n\n    _createClass(Table, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var addActions = this.props.addActions;\n\n        if (addActions) {\n          addActions([{\n            button: _react2.default.createElement(\n              'span',\n              null,\n              '+ Row'\n            ),\n            label: 'Add a row',\n            active: false,\n            toggle: function toggle() {\n              return _this2.addRow();\n            }\n          }, {\n            button: _react2.default.createElement(\n              'span',\n              null,\n              '+ Column'\n            ),\n            label: 'Add a column',\n            active: false,\n            toggle: function toggle() {\n              return _this2.addColumn();\n            }\n          }]);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this3 = this;\n\n        var _state = this.state;\n        var rows = _state.rows;\n        var numberOfColumns = _state.numberOfColumns;\n        var focusedEdit = _state.focusedEdit;\n        var _props = this.props;\n        var style = _props.style;\n        var className = _props.className;\n        var blockProps = _props.blockProps;\n        var isFocused = blockProps.isFocused;\n        var renderNestedEditor = blockProps.renderNestedEditor;\n\n\n        var classNames = [className, theme.table].filter(function (p) {\n          return p;\n        });\n\n        return _react2.default.createElement(\n          'table',\n          { className: classNames.join(' '), cellSpacing: '0', style: style },\n          _react2.default.createElement(\n            'tbody',\n            null,\n            rows.map(function (row, rowI) {\n              return _react2.default.createElement(\n                'tr',\n                { key: rowI },\n                Array.from(new Array(numberOfColumns), function (x, i) {\n                  return i;\n                }).map(function (column, columnI) {\n                  return _react2.default.createElement(\n                    'td',\n                    { key: columnI },\n                    renderNestedEditor({\n                      block: _this3,\n                      editorState: row[columnI],\n                      onChange: function onChange(editorState) {\n                        return _this3.updateEntityData(editorState, rowI, columnI);\n                      },\n                      setFocus: function setFocus() {\n                        return _this3.setFocus(rowI, columnI);\n                      },\n                      active: isFocused && focusedEdit && focusedEdit.row === rowI && focusedEdit.column === columnI\n                    })\n                  );\n                })\n              );\n            })\n          )\n        );\n      }\n    }]);\n\n    return Table;\n  }(_react.Component);\n};\n\nexports.default = TableComponent;"]},"metadata":{},"sourceType":"script"}