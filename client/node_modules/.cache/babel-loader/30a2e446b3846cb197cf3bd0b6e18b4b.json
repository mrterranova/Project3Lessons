{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _draftJs = require('draft-js');\n\nvar _createCompositeDecorator = require('./createCompositeDecorator');\n\nvar _createCompositeDecorator2 = _interopRequireDefault(_createCompositeDecorator);\n\nvar _moveSelectionToEnd = require('./moveSelectionToEnd');\n\nvar _moveSelectionToEnd2 = _interopRequireDefault(_moveSelectionToEnd);\n\nvar _proxies = require('./proxies');\n\nvar _proxies2 = _interopRequireDefault(_proxies);\n\nvar _defaultKeyBindingPlugin = require('./defaultKeyBindingPlugin');\n\nvar defaultKeyBindingPlugin = _interopRequireWildcard(_defaultKeyBindingPlugin);\n\nvar _immutable = require('immutable');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The main editor component\n */\n\n\nvar PluginEditor = function (_Component) {\n  _inherits(PluginEditor, _Component);\n\n  function PluginEditor(props) {\n    _classCallCheck(this, PluginEditor);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PluginEditor).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.plugins = [_this.props].concat(_toConsumableArray(_this.resolvePlugins()));\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _this.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var plugin = _step.value;\n        if (typeof plugin.initialize !== 'function') continue;\n        plugin.initialize(_this);\n      } // attach proxy methods like `focus` or `blur`\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      var _loop = function _loop() {\n        var method = _step2.value;\n\n        _this[method] = function () {\n          var _this$refs$editor;\n\n          return (_this$refs$editor = _this.refs.editor)[method].apply(_this$refs$editor, arguments);\n        };\n      };\n\n      for (var _iterator2 = _proxies2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        _loop();\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(PluginEditor, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var compositeDecorator = (0, _createCompositeDecorator2.default)(this.resolveDecorators(), this.getEditorState, this.onChange);\n\n      var _editorState = _draftJs.EditorState.set(this.props.editorState, {\n        decorator: compositeDecorator\n      });\n\n      this.onChange((0, _moveSelectionToEnd2.default)(_editorState));\n    } // Cycle through the plugins, changing the editor state with what the plugins\n    // changed (or didn't)\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var pluginHooks = this.createPluginHooks();\n      var customStyleMap = this.resolveCustomStyleMap();\n      var accessibilityProps = this.resolveAccessibilityProps();\n      return _react2.default.createElement(_draftJs.Editor, _extends({}, this.props, accessibilityProps, pluginHooks, {\n        readOnly: this.props.readOnly || this.state.readOnly,\n        customStyleMap: customStyleMap,\n        onChange: this.onChange,\n        editorState: this.props.editorState,\n        ref: 'editor'\n      }));\n    }\n  }]);\n\n  return PluginEditor;\n}(_react.Component);\n\nPluginEditor.propTypes = {\n  editorState: _react2.default.PropTypes.object.isRequired,\n  onChange: _react2.default.PropTypes.func.isRequired,\n  plugins: _react2.default.PropTypes.array,\n  defaultKeyBindings: _react2.default.PropTypes.bool,\n  customStyleMap: _react2.default.PropTypes.object,\n  decorators: _react2.default.PropTypes.array\n};\nPluginEditor.defaultProps = {\n  defaultKeyBindings: true,\n  customStyleMap: {},\n  plugins: [],\n  decorators: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onChange = function (editorState) {\n    if (_this2.state.readOnly) return;\n    var newEditorState = editorState;\n\n    _this2.resolvePlugins().forEach(function (plugin) {\n      if (plugin.onChange) {\n        newEditorState = plugin.onChange(newEditorState, _this2);\n      }\n    });\n\n    if (_this2.props.onChange) {\n      _this2.props.onChange(newEditorState, _this2);\n    }\n  };\n\n  this.setEditorState = this.onChange;\n\n  this.getEditorState = function () {\n    return _this2.props.editorState;\n  };\n\n  this.getReadOnly = function () {\n    return _this2.props.readOnly;\n  };\n\n  this.setReadOnly = function (readOnly) {\n    if (readOnly !== _this2.state.readOnly) _this2.setState({\n      readOnly: readOnly\n    });\n  };\n\n  this.createEventHooks = function (methodName, plugins) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var newArgs = [].slice.apply(args);\n      newArgs.push(_extends({}, _this2));\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = plugins[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var plugin = _step3.value;\n          if (typeof plugin[methodName] !== 'function') continue;\n          var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));\n          if (result === true) return true;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return false;\n    };\n  };\n\n  this.createFnHooks = function (methodName, plugins) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var newArgs = [].slice.apply(args);\n      newArgs.push(_extends({}, _this2));\n\n      if (methodName === 'blockRendererFn') {\n        var block = {\n          props: {}\n        };\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = plugins[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var plugin = _step4.value;\n            if (typeof plugin[methodName] !== 'function') continue;\n            var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));\n\n            if (result !== undefined && result !== null) {\n              var pluginProps = result.props;\n\n              var pluginRest = _objectWithoutProperties(result, ['props']); // eslint-disable-line no-use-before-define\n\n\n              var _block = block;\n              var props = _block.props;\n\n              var rest = _objectWithoutProperties(_block, ['props']); // eslint-disable-line no-use-before-define\n\n\n              block = _extends({}, rest, pluginRest, {\n                props: _extends({}, props, pluginProps)\n              });\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        return block.component ? block : false;\n      } else if (methodName === 'blockStyleFn') {\n        var styles = void 0;\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = plugins[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var _plugin = _step5.value;\n            if (typeof _plugin[methodName] !== 'function') continue;\n\n            var _result = _plugin[methodName].apply(_plugin, _toConsumableArray(newArgs));\n\n            if (_result !== undefined) {\n              styles = (styles ? styles + ' ' : '') + _result;\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        return styles || false;\n      }\n\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = plugins[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var _plugin2 = _step6.value;\n          if (typeof _plugin2[methodName] !== 'function') continue;\n\n          var _result2 = _plugin2[methodName].apply(_plugin2, _toConsumableArray(newArgs));\n\n          if (_result2 !== undefined) {\n            return _result2;\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      return false;\n    };\n  };\n\n  this.createPluginHooks = function () {\n    var pluginHooks = {};\n    var eventHookKeys = [];\n    var fnHookKeys = [];\n    var plugins = [_this2.props].concat(_toConsumableArray(_this2.resolvePlugins()));\n    plugins.forEach(function (plugin) {\n      Object.keys(plugin).forEach(function (attrName) {\n        if (attrName === 'onChange') return; // if `attrName` has been added as a hook key already, ignore this one\n\n        if (eventHookKeys.indexOf(attrName) !== -1 || fnHookKeys.indexOf(attrName) !== -1) return;\n        var isEventHookKey = attrName.indexOf('on') === 0 || attrName.indexOf('handle') === 0;\n\n        if (isEventHookKey) {\n          eventHookKeys.push(attrName);\n          return;\n        } // checks if `attrName` ends with 'Fn'\n\n\n        var isFnHookKey = attrName.length - 2 === attrName.indexOf('Fn');\n\n        if (isFnHookKey) {\n          fnHookKeys.push(attrName);\n        }\n      });\n    });\n    eventHookKeys.forEach(function (attrName) {\n      pluginHooks[attrName] = _this2.createEventHooks(attrName, plugins);\n    });\n    fnHookKeys.forEach(function (attrName) {\n      pluginHooks[attrName] = _this2.createFnHooks(attrName, plugins);\n    });\n    return pluginHooks;\n  };\n\n  this.resolvePlugins = function () {\n    var plugins = _this2.props.plugins.slice(0);\n\n    if (_this2.props.defaultKeyBindings) {\n      plugins.push(defaultKeyBindingPlugin);\n    }\n\n    return plugins;\n  };\n\n  this.resolveDecorators = function () {\n    var _props = _this2.props;\n    var decorators = _props.decorators;\n    var plugins = _props.plugins;\n    return (0, _immutable.List)([{\n      decorators: decorators\n    }].concat(_toConsumableArray(plugins))).filter(function (plugin) {\n      return plugin.decorators !== undefined;\n    }).flatMap(function (plugin) {\n      return plugin.decorators;\n    });\n  };\n\n  this.resolveCustomStyleMap = function () {\n    return _this2.props.plugins.filter(function (plug) {\n      return plug.customStyleMap !== undefined;\n    }).map(function (plug) {\n      return plug.customStyleMap;\n    }).concat([_this2.props.customStyleMap]).reduce(function (styles, style) {\n      return _extends({}, styles, style);\n    }, {});\n  };\n\n  this.resolveAccessibilityProps = function () {\n    var accessibilityProps = {};\n    var plugins = [_this2.props].concat(_toConsumableArray(_this2.resolvePlugins()));\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n\n    try {\n      for (var _iterator7 = plugins[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n        var plugin = _step7.value;\n        if (typeof plugin.getAccessibilityProps !== 'function') continue;\n        var props = plugin.getAccessibilityProps();\n        var popupProps = {};\n\n        if (accessibilityProps.ariaHasPopup === undefined) {\n          popupProps.ariaHasPopup = props.ariaHasPopup;\n        } else if (props.ariaHasPopup === 'true') {\n          popupProps.ariaHasPopup = 'true';\n        }\n\n        if (accessibilityProps.ariaExpanded === undefined) {\n          popupProps.ariaExpanded = props.ariaExpanded;\n        } else if (props.ariaExpanded === 'true') {\n          popupProps.ariaExpanded = 'true';\n        }\n\n        accessibilityProps = _extends({}, accessibilityProps, props, popupProps);\n      }\n    } catch (err) {\n      _didIteratorError7 = true;\n      _iteratorError7 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n          _iterator7.return();\n        }\n      } finally {\n        if (_didIteratorError7) {\n          throw _iteratorError7;\n        }\n      }\n    }\n\n    return accessibilityProps;\n  };\n};\n\nexports.default = PluginEditor;","map":{"version":3,"sources":["C:/Users/User/Desktop/MERN Passport/client/node_modules/draft-js-plugins-editor-wysiwyg/lib/Editor/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_draftJs","_createCompositeDecorator","_createCompositeDecorator2","_moveSelectionToEnd","_moveSelectionToEnd2","_proxies","_proxies2","_defaultKeyBindingPlugin","defaultKeyBindingPlugin","_interopRequireWildcard","_immutable","obj","__esModule","newObj","default","_objectWithoutProperties","keys","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","PluginEditor","_Component","_this","getPrototypeOf","_initialiseProps","plugins","concat","resolvePlugins","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","plugin","initialize","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_loop","method","_step2","_this$refs$editor","refs","editor","apply","_iterator2","state","componentWillMount","compositeDecorator","resolveDecorators","getEditorState","onChange","_editorState","EditorState","set","editorState","decorator","render","pluginHooks","createPluginHooks","customStyleMap","resolveCustomStyleMap","accessibilityProps","resolveAccessibilityProps","createElement","Editor","readOnly","ref","Component","propTypes","PropTypes","object","isRequired","func","array","defaultKeyBindings","bool","decorators","defaultProps","_this2","newEditorState","forEach","setEditorState","getReadOnly","setReadOnly","setState","createEventHooks","methodName","_len","args","_key","newArgs","slice","push","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","result","createFnHooks","_len2","_key2","block","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","pluginProps","pluginRest","_block","rest","component","styles","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_plugin","_result","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_plugin2","_result2","eventHookKeys","fnHookKeys","attrName","isEventHookKey","isFnHookKey","_props","List","filter","flatMap","plug","map","reduce","style","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","getAccessibilityProps","popupProps","ariaHasPopup","ariaExpanded"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _draftJs = require('draft-js');\n\nvar _createCompositeDecorator = require('./createCompositeDecorator');\n\nvar _createCompositeDecorator2 = _interopRequireDefault(_createCompositeDecorator);\n\nvar _moveSelectionToEnd = require('./moveSelectionToEnd');\n\nvar _moveSelectionToEnd2 = _interopRequireDefault(_moveSelectionToEnd);\n\nvar _proxies = require('./proxies');\n\nvar _proxies2 = _interopRequireDefault(_proxies);\n\nvar _defaultKeyBindingPlugin = require('./defaultKeyBindingPlugin');\n\nvar defaultKeyBindingPlugin = _interopRequireWildcard(_defaultKeyBindingPlugin);\n\nvar _immutable = require('immutable');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The main editor component\n */\n\nvar PluginEditor = function (_Component) {\n  _inherits(PluginEditor, _Component);\n\n  function PluginEditor(props) {\n    _classCallCheck(this, PluginEditor);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PluginEditor).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.plugins = [_this.props].concat(_toConsumableArray(_this.resolvePlugins()));\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _this.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var plugin = _step.value;\n\n        if (typeof plugin.initialize !== 'function') continue;\n        plugin.initialize(_this);\n      }\n\n      // attach proxy methods like `focus` or `blur`\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      var _loop = function _loop() {\n        var method = _step2.value;\n\n        _this[method] = function () {\n          var _this$refs$editor;\n\n          return (_this$refs$editor = _this.refs.editor)[method].apply(_this$refs$editor, arguments);\n        };\n      };\n\n      for (var _iterator2 = _proxies2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        _loop();\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(PluginEditor, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var compositeDecorator = (0, _createCompositeDecorator2.default)(this.resolveDecorators(), this.getEditorState, this.onChange);\n      var _editorState = _draftJs.EditorState.set(this.props.editorState, { decorator: compositeDecorator });\n      this.onChange((0, _moveSelectionToEnd2.default)(_editorState));\n    }\n\n    // Cycle through the plugins, changing the editor state with what the plugins\n    // changed (or didn't)\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var pluginHooks = this.createPluginHooks();\n      var customStyleMap = this.resolveCustomStyleMap();\n      var accessibilityProps = this.resolveAccessibilityProps();\n\n      return _react2.default.createElement(_draftJs.Editor, _extends({}, this.props, accessibilityProps, pluginHooks, {\n        readOnly: this.props.readOnly || this.state.readOnly,\n        customStyleMap: customStyleMap,\n        onChange: this.onChange,\n        editorState: this.props.editorState,\n        ref: 'editor'\n      }));\n    }\n  }]);\n\n  return PluginEditor;\n}(_react.Component);\n\nPluginEditor.propTypes = {\n  editorState: _react2.default.PropTypes.object.isRequired,\n  onChange: _react2.default.PropTypes.func.isRequired,\n  plugins: _react2.default.PropTypes.array,\n  defaultKeyBindings: _react2.default.PropTypes.bool,\n  customStyleMap: _react2.default.PropTypes.object,\n  decorators: _react2.default.PropTypes.array\n};\nPluginEditor.defaultProps = {\n  defaultKeyBindings: true,\n  customStyleMap: {},\n  plugins: [],\n  decorators: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onChange = function (editorState) {\n    if (_this2.state.readOnly) return;\n\n    var newEditorState = editorState;\n\n    _this2.resolvePlugins().forEach(function (plugin) {\n      if (plugin.onChange) {\n        newEditorState = plugin.onChange(newEditorState, _this2);\n      }\n    });\n\n    if (_this2.props.onChange) {\n      _this2.props.onChange(newEditorState, _this2);\n    }\n  };\n\n  this.setEditorState = this.onChange;\n\n  this.getEditorState = function () {\n    return _this2.props.editorState;\n  };\n\n  this.getReadOnly = function () {\n    return _this2.props.readOnly;\n  };\n\n  this.setReadOnly = function (readOnly) {\n    if (readOnly !== _this2.state.readOnly) _this2.setState({ readOnly: readOnly });\n  };\n\n  this.createEventHooks = function (methodName, plugins) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var newArgs = [].slice.apply(args);\n      newArgs.push(_extends({}, _this2));\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = plugins[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var plugin = _step3.value;\n\n          if (typeof plugin[methodName] !== 'function') continue;\n          var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));\n          if (result === true) return true;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return false;\n    };\n  };\n\n  this.createFnHooks = function (methodName, plugins) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var newArgs = [].slice.apply(args);\n\n      newArgs.push(_extends({}, _this2));\n\n      if (methodName === 'blockRendererFn') {\n        var block = { props: {} };\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = plugins[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var plugin = _step4.value;\n\n            if (typeof plugin[methodName] !== 'function') continue;\n            var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));\n            if (result !== undefined && result !== null) {\n              var pluginProps = result.props;\n\n              var pluginRest = _objectWithoutProperties(result, ['props']); // eslint-disable-line no-use-before-define\n\n\n              var _block = block;\n              var props = _block.props;\n\n              var rest = _objectWithoutProperties(_block, ['props']); // eslint-disable-line no-use-before-define\n\n\n              block = _extends({}, rest, pluginRest, { props: _extends({}, props, pluginProps) });\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        return block.component ? block : false;\n      } else if (methodName === 'blockStyleFn') {\n        var styles = void 0;\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = plugins[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var _plugin = _step5.value;\n\n            if (typeof _plugin[methodName] !== 'function') continue;\n            var _result = _plugin[methodName].apply(_plugin, _toConsumableArray(newArgs));\n            if (_result !== undefined) {\n              styles = (styles ? styles + ' ' : '') + _result;\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        return styles || false;\n      }\n\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = plugins[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var _plugin2 = _step6.value;\n\n          if (typeof _plugin2[methodName] !== 'function') continue;\n          var _result2 = _plugin2[methodName].apply(_plugin2, _toConsumableArray(newArgs));\n          if (_result2 !== undefined) {\n            return _result2;\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      return false;\n    };\n  };\n\n  this.createPluginHooks = function () {\n    var pluginHooks = {};\n    var eventHookKeys = [];\n    var fnHookKeys = [];\n    var plugins = [_this2.props].concat(_toConsumableArray(_this2.resolvePlugins()));\n\n    plugins.forEach(function (plugin) {\n      Object.keys(plugin).forEach(function (attrName) {\n        if (attrName === 'onChange') return;\n\n        // if `attrName` has been added as a hook key already, ignore this one\n        if (eventHookKeys.indexOf(attrName) !== -1 || fnHookKeys.indexOf(attrName) !== -1) return;\n\n        var isEventHookKey = attrName.indexOf('on') === 0 || attrName.indexOf('handle') === 0;\n        if (isEventHookKey) {\n          eventHookKeys.push(attrName);\n          return;\n        }\n\n        // checks if `attrName` ends with 'Fn'\n        var isFnHookKey = attrName.length - 2 === attrName.indexOf('Fn');\n        if (isFnHookKey) {\n          fnHookKeys.push(attrName);\n        }\n      });\n    });\n\n    eventHookKeys.forEach(function (attrName) {\n      pluginHooks[attrName] = _this2.createEventHooks(attrName, plugins);\n    });\n\n    fnHookKeys.forEach(function (attrName) {\n      pluginHooks[attrName] = _this2.createFnHooks(attrName, plugins);\n    });\n\n    return pluginHooks;\n  };\n\n  this.resolvePlugins = function () {\n    var plugins = _this2.props.plugins.slice(0);\n    if (_this2.props.defaultKeyBindings) {\n      plugins.push(defaultKeyBindingPlugin);\n    }\n\n    return plugins;\n  };\n\n  this.resolveDecorators = function () {\n    var _props = _this2.props;\n    var decorators = _props.decorators;\n    var plugins = _props.plugins;\n\n    return (0, _immutable.List)([{ decorators: decorators }].concat(_toConsumableArray(plugins))).filter(function (plugin) {\n      return plugin.decorators !== undefined;\n    }).flatMap(function (plugin) {\n      return plugin.decorators;\n    });\n  };\n\n  this.resolveCustomStyleMap = function () {\n    return _this2.props.plugins.filter(function (plug) {\n      return plug.customStyleMap !== undefined;\n    }).map(function (plug) {\n      return plug.customStyleMap;\n    }).concat([_this2.props.customStyleMap]).reduce(function (styles, style) {\n      return _extends({}, styles, style);\n    }, {});\n  };\n\n  this.resolveAccessibilityProps = function () {\n    var accessibilityProps = {};\n    var plugins = [_this2.props].concat(_toConsumableArray(_this2.resolvePlugins()));\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n\n    try {\n      for (var _iterator7 = plugins[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n        var plugin = _step7.value;\n\n        if (typeof plugin.getAccessibilityProps !== 'function') continue;\n        var props = plugin.getAccessibilityProps();\n        var popupProps = {};\n\n        if (accessibilityProps.ariaHasPopup === undefined) {\n          popupProps.ariaHasPopup = props.ariaHasPopup;\n        } else if (props.ariaHasPopup === 'true') {\n          popupProps.ariaHasPopup = 'true';\n        }\n\n        if (accessibilityProps.ariaExpanded === undefined) {\n          popupProps.ariaExpanded = props.ariaExpanded;\n        } else if (props.ariaExpanded === 'true') {\n          popupProps.ariaExpanded = 'true';\n        }\n\n        accessibilityProps = _extends({}, accessibilityProps, props, popupProps);\n      }\n    } catch (err) {\n      _didIteratorError7 = true;\n      _iteratorError7 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n          _iterator7.return();\n        }\n      } finally {\n        if (_didIteratorError7) {\n          throw _iteratorError7;\n        }\n      }\n    }\n\n    return accessibilityProps;\n  };\n};\n\nexports.default = PluginEditor;"]},"metadata":{},"sourceType":"script"}