{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Layout from\"../core/components/NavigationBar/index\";import axios from'axios';import{ToastContainer,toast}from\"react-toastify\";import'react-toastify/dist/ReactToastify.min.css';var UpdatePassword=function UpdatePassword(_ref){var history=_ref.history;var _useState=useState({email:'',btnText:'Update Password'}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var email=values.email,btnText=values.btnText;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({},name,event.target.value)));};};var handleSubmitForm=function handleSubmitForm(event){event.preventDefault();setValues(_objectSpread({},values,{btnText:\"Submitting\"}));axios({method:\"PUT\",url:process.env.REACT_APP_API+'/update-password',data:{email:email}}).then(function(response){console.log(\"Reset Completed\",response);toast.success(response.data.message);setValues(_objectSpread({},values,{btnText:\"Completed Update\"}));}).catch(function(error){console.log('Error in reset password request',error.response.data);setValues(_objectSpread({},values,{btnText:'Update Password'}));toast.error(error.response.data.error);});};var updatePasswordForm=function updatePasswordForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Email: \"),React.createElement(\"input\",{onChange:handleChange('email'),value:email,type:\"email\",className:\"form-control\"})),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"btn btn-warning\",onClick:handleSubmitForm,type:\"submit\"},btnText)));};return React.createElement(Layout,null,React.createElement(ToastContainer,null),React.createElement(\"h1\",null,\"Reseting Password\"),updatePasswordForm());};export default UpdatePassword;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/auth/UpdatePassword.js"],"names":["React","useState","Layout","axios","ToastContainer","toast","UpdatePassword","history","email","btnText","values","setValues","handleChange","name","event","target","value","handleSubmitForm","preventDefault","method","url","process","env","REACT_APP_API","data","then","response","console","log","success","message","catch","error","updatePasswordForm"],"mappings":"sZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,wCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,2CAAP,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACRN,QAAQ,CAAC,CACjCO,KAAK,CAAE,EAD0B,CAEjCC,OAAO,CAAE,iBAFwB,CAAD,CADA,wCAC7BC,MAD6B,eACrBC,SADqB,kBAM5BH,CAAAA,KAN4B,CAMTE,MANS,CAM5BF,KAN4B,CAMrBC,OANqB,CAMTC,MANS,CAMrBD,OANqB,CAQpC,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,QAAU,UAAAC,KAAK,CAAI,CACpCH,SAAS,kBAAMD,MAAN,oBAAeG,IAAf,CAAsBC,KAAK,CAACC,MAAN,CAAaC,KAAnC,GAAT,CACH,CAFoB,EAArB,CAIA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAH,KAAK,CAAI,CAC9BA,KAAK,CAACI,cAAN,GACAP,SAAS,kBAAMD,MAAN,EAAcD,OAAO,CAAE,YAAvB,GAAT,CACIN,KAAK,CAAC,CACFgB,MAAM,CAAE,KADN,CAEFC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,CAA4B,kBAF/B,CAGFC,IAAI,CAAE,CAAChB,KAAK,CAALA,KAAD,CAHJ,CAAD,CAAL,CAIGiB,IAJH,CAIQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BF,QAA/B,EAEArB,KAAK,CAACwB,OAAN,CAAcH,QAAQ,CAACF,IAAT,CAAcM,OAA5B,EACAnB,SAAS,kBAAKD,MAAL,EAAaD,OAAO,CAAE,kBAAtB,GAAT,CAEH,CAVD,EAUGsB,KAVH,CAUS,SAAAC,KAAK,CAAI,CACdL,OAAO,CAACC,GAAR,CAAY,iCAAZ,CAA+CI,KAAK,CAACN,QAAN,CAAeF,IAA9D,EACAb,SAAS,kBAAMD,MAAN,EAAcD,OAAO,CAAE,iBAAvB,GAAT,CACAJ,KAAK,CAAC2B,KAAN,CAAYA,KAAK,CAACN,QAAN,CAAeF,IAAf,CAAoBQ,KAAhC,EACH,CAdD,EAeP,CAlBD,CAqBA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,SACvB,iCACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,SAAS,CAAC,YAAjB,YADJ,CAEI,6BAAO,QAAQ,CAAErB,YAAY,CAAC,OAAD,CAA7B,CAAwC,KAAK,CAAEJ,KAA/C,CAAsD,IAAI,CAAC,OAA3D,CAAmE,SAAS,CAAC,cAA7E,EAFJ,CADJ,CAKI,+BACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAES,gBAA7C,CAA+D,IAAI,CAAC,QAApE,EAA8ER,OAA9E,CADJ,CALJ,CADuB,EAA3B,CAYA,MACI,qBAAC,MAAD,MACI,oBAAC,cAAD,MADJ,CAEI,kDAFJ,CAGKwB,kBAAkB,EAHvB,CADJ,CAOH,CApDD,CAsDA,cAAe3B,CAAAA,cAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Layout from \"../core/components/NavigationBar/index\";\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst UpdatePassword = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        btnText: 'Update Password'\r\n    })\r\n\r\n    const { email, btnText } = values\r\n\r\n    const handleChange = (name) => event => {\r\n        setValues({ ...values, [name]: event.target.value })\r\n    }\r\n\r\n    const handleSubmitForm = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, btnText: \"Submitting\" })\r\n            axios({\r\n                method: \"PUT\",\r\n                url: process.env.REACT_APP_API + '/update-password',\r\n                data: {email}\r\n            }).then(response => {\r\n                console.log(\"Reset Completed\", response)\r\n                \r\n                toast.success(response.data.message)\r\n                setValues({...values, btnText: \"Completed Update\"})\r\n\r\n            }).catch(error => {\r\n                console.log('Error in reset password request', error.response.data)\r\n                setValues({ ...values, btnText: 'Update Password' });\r\n                toast.error(error.response.data.error)\r\n            })\r\n    }\r\n\r\n\r\n    const updatePasswordForm = () => (\r\n        <form>\r\n            <div className=\"form-group\" >\r\n                <label className=\"text-muted\">Email: </label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n            <div>\r\n                <button className=\"btn btn-warning\" onClick={handleSubmitForm} type=\"submit\">{btnText}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout>\r\n            <ToastContainer />\r\n            <h1>Reseting Password</h1>\r\n            {updatePasswordForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default UpdatePassword;"]},"metadata":{},"sourceType":"module"}