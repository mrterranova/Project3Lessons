{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Layout from'../core/components/NavigationBar/index';import axios from'axios';import jwt from'jsonwebtoken';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.min.css';var Activate=function Activate(_ref){var match=_ref.match;var _useState=useState({name:'',token:'',show:true}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){var token=match.params.token;var _jwt$decode=jwt.decode(token),name=_jwt$decode.name;if(token){setValues(_objectSpread({},values,{name:name,token:token}));}},[match.params.token,values]);var name=values.name,token=values.token;var clickSubmit=function clickSubmit(event){event.preventDefault();axios({method:'POST',url:\"\".concat(process.env.REACT_APP_API,\"/activation\"),data:{token:token}}).then(function(response){console.log('Your account is now activated!',response);setValues(_objectSpread({},values,{show:false}));toast.success(response.data.message);}).catch(function(error){console.log('Error in Activation',error.response.data.error);toast.error(error.response.data.error);});};var activation=function activation(){return React.createElement(\"div\",{className:\"text-center\"},React.createElement(\"h1\",{className:\"p-5\"},\"Hey \",name,\", Ready to activate your account?\"),React.createElement(\"button\",{className:\"btn btn-outline-primary\",onClick:clickSubmit},\"Activate Account\"));};return React.createElement(Layout,null,React.createElement(\"div\",{className:\"col-md-6 offset-md-3\"},React.createElement(ToastContainer,null),activation()));};export default Activate;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/auth/Activate.js"],"names":["React","useState","useEffect","Layout","axios","jwt","ToastContainer","toast","Activate","match","name","token","show","values","setValues","params","decode","clickSubmit","event","preventDefault","method","url","process","env","REACT_APP_API","data","then","response","console","log","success","message","catch","error","activation"],"mappings":"6QAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,wCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,2CAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,eACAR,QAAQ,CAAC,CACjCS,IAAI,CAAE,EAD2B,CAEjCC,KAAK,CAAE,EAF0B,CAGjCC,IAAI,CAAE,IAH2B,CAAD,CADR,wCACrBC,MADqB,eACbC,SADa,eAO5BZ,SAAS,CAAC,UAAM,CACZ,GAAIS,CAAAA,KAAK,CAAGF,KAAK,CAACM,MAAN,CAAaJ,KAAzB,CADY,gBAEGN,GAAG,CAACW,MAAJ,CAAWL,KAAX,CAFH,CAEND,IAFM,aAENA,IAFM,CAGZ,GAAIC,KAAJ,CAAW,CACPG,SAAS,kBAAMD,MAAN,EAAcH,IAAI,CAAJA,IAAd,CAAoBC,KAAK,CAALA,KAApB,GAAT,CACH,CACJ,CANQ,CAMN,CAACF,KAAK,CAACM,MAAN,CAAaJ,KAAd,CAAqBE,MAArB,CANM,CAAT,CAP4B,GAepBH,CAAAA,IAfoB,CAeJG,MAfI,CAepBH,IAfoB,CAedC,KAfc,CAeJE,MAfI,CAedF,KAfc,CAiB5B,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,CAAI,CACzBA,KAAK,CAACC,cAAN,GACAf,KAAK,CAAC,CACFgB,MAAM,CAAE,MADN,CAEFC,GAAG,WAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,eAFD,CAGFC,IAAI,CAAE,CAAEd,KAAK,CAALA,KAAF,CAHJ,CAAD,CAAL,CAKKe,IALL,CAKU,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8CF,QAA9C,EACAb,SAAS,kBAAMD,MAAN,EAAcD,IAAI,CAAE,KAApB,GAAT,CACAL,KAAK,CAACuB,OAAN,CAAcH,QAAQ,CAACF,IAAT,CAAcM,OAA5B,EACH,CATL,EAUKC,KAVL,CAUW,SAAAC,KAAK,CAAI,CACZL,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCI,KAAK,CAACN,QAAN,CAAeF,IAAf,CAAoBQ,KAAvD,EACA1B,KAAK,CAAC0B,KAAN,CAAYA,KAAK,CAACN,QAAN,CAAeF,IAAf,CAAoBQ,KAAhC,EACH,CAbL,EAcH,CAhBD,CAkBA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACf,4BAAK,SAAS,CAAC,aAAf,EACI,0BAAI,SAAS,CAAC,KAAd,SAAyBxB,IAAzB,qCADJ,CAEI,8BAAQ,SAAS,CAAC,yBAAlB,CAA4C,OAAO,CAAEO,WAArD,qBAFJ,CADe,EAAnB,CASA,MACI,qBAAC,MAAD,MACI,2BAAK,SAAS,CAAC,sBAAf,EACI,oBAAC,cAAD,MADJ,CAEKiB,UAAU,EAFf,CADJ,CADJ,CAQH,CApDD,CAsDA,cAAe1B,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/components/NavigationBar/index';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Activate = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        token: '',\r\n        show: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        let { name } = jwt.decode(token);\r\n        if (token) {\r\n            setValues({ ...values, name, token });\r\n        }\r\n    }, [match.params.token, values]);\r\n\r\n    const { name, token } = values;\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/activation`,\r\n            data: { token }\r\n        })\r\n            .then(response => {\r\n                console.log('Your account is now activated!', response);\r\n                setValues({ ...values, show: false });\r\n                toast.success(response.data.message);\r\n            })\r\n            .catch(error => {\r\n                console.log('Error in Activation', error.response.data.error);\r\n                toast.error(error.response.data.error);\r\n            });\r\n    };\r\n\r\n    const activation = () => (\r\n        <div className=\"text-center\">\r\n            <h1 className=\"p-5\">Hey {name}, Ready to activate your account?</h1>\r\n            <button className=\"btn btn-outline-primary\" onClick={clickSubmit}>\r\n                Activate Account\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                {activation()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Activate;"]},"metadata":{},"sourceType":"module"}