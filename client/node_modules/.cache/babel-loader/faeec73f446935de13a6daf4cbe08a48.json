{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\MERN Passport\\\\client\\\\src\\\\core\\\\pages\\\\Private\\\\components\\\\UserSettings\\\\DeleteProfile.js\";\nimport React, { useState, useEffect } from 'react'; // import Layout from '../core/Layout';\n\nimport axios from 'axios';\nimport { isAuth, getCookie, signout } from '../../../../../auth/helpers';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nconst UserNotes = ({\n  history\n}) => {\n  const _useState = useState({\n    showHideEdit: false,\n    _id: \"\",\n    name: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const token = getCookie('token');\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = () => {\n    axios({\n      method: 'GET',\n      url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      const _response$data = response.data,\n            role = _response$data.role,\n            _id = _response$data._id,\n            name = _response$data.name,\n            email = _response$data.email,\n            notes = _response$data.notes;\n      setValues(_objectSpread({}, values, {\n        _id,\n        role,\n        name,\n        email,\n        notes\n      }));\n    }).catch(error => {\n      if (error.response.status === 401) {\n        signout(() => {\n          history.push('/');\n        });\n      }\n    });\n  };\n\n  const name = values.name,\n        _id = values._id;\n\n  const AreYouSure = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Are you sure you want to leave?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Once you leave, your account will be deleted along with any information pertaining to your account.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Administrators to Words of Glory do not save any data from users. Therefore, you will be unable to retrieve previous notes or bookmarks you made. If you wish to save any notes or bookmarks, please do so before removing yourself from Words of Glory. You will not be able to save notes or bookmarks without being a user, but you are always welcome to visit any of the lessons.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \" If you are certain that you no longer wish to be a part of Words of Glory then click the button below.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Thank you for your visit! We hope that you will return either way.\"), React.createElement(\"button\", {\n      onClick: RemoveUser(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Yes, please remove me.\"));\n  };\n\n  const RemoveUser = () => {\n    axios({\n      method: 'DELETE',\n      url: `${process.env.REACT_APP_API}/user/delete` + _id,\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      toast.success('You no longer have a profile.');\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: () => AreYouSure(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Click here\"), AreYouSure(), React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }));\n};\n\nexport default UserNotes;","map":{"version":3,"sources":["C:/Users/User/Desktop/MERN Passport/client/src/core/pages/Private/components/UserSettings/DeleteProfile.js"],"names":["React","useState","useEffect","axios","isAuth","getCookie","signout","toast","ToastContainer","UserNotes","history","showHideEdit","_id","name","values","setValues","token","loadProfile","method","url","process","env","REACT_APP_API","headers","Authorization","then","response","data","role","email","notes","catch","error","status","push","AreYouSure","RemoveUser","success"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\r\n// import Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth, getCookie, signout } from '../../../../../auth/helpers';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\n\r\n\r\nconst UserNotes = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        showHideEdit: false, \r\n        _id : \"\", \r\n        name: \"\"\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, []);\r\n\r\n    const loadProfile = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then(response => {\r\n                const { role, _id, name, email, notes } = response.data;\r\n                setValues({ ...values, _id, role, name, email, notes });\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 401) {\r\n                    signout(() => {\r\n                        history.push('/');\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    const { name, _id } = values;\r\n\r\n    const AreYouSure = () => {\r\n        return(\r\n            <div>\r\n            <div>Are you sure you want to leave?</div>\r\n            <p>Once you leave, your account will be deleted along with any information pertaining to your account.</p>\r\n            <p>Administrators to Words of Glory do not save any data from users. Therefore, you will be unable to retrieve previous notes or bookmarks you made. If you wish to save any notes or bookmarks, please do so before removing yourself from Words of Glory. You will not be able to save notes or bookmarks without being a user, but you are always welcome to visit any of the lessons.</p>\r\n            <p> If you are certain that you no longer wish to be a part of Words of Glory then click the button below.</p>\r\n            <p>Thank you for your visit! We hope that you will return either way.</p>\r\n            <button onClick={RemoveUser()}>Yes, please remove me.</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const RemoveUser = () => {\r\n        axios({\r\n            method: 'DELETE',\r\n            url: `${process.env.REACT_APP_API}/user/delete`+ _id,\r\n            headers: {\r\n                Authorization: 'Bearer '+ token\r\n            }\r\n        })\r\n            .then(response => {\r\n                    toast.success('You no longer have a profile.');\r\n                });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n<div onClick={()=>AreYouSure()}>Click here</div>\r\n{AreYouSure()}\r\n<ToastContainer />\r\n</div>\r\n    );\r\n};\r\n\r\nexport default UserNotes;\r\n"]},"metadata":{},"sourceType":"module"}