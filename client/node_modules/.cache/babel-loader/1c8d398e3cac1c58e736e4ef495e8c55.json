{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\Project3Lessons\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';// import Layout from '../core/Layout';\nimport axios from'axios';import{isAuth,getCookie,signout}from'../../../../../auth/helpers';import'react-toastify/dist/ReactToastify.min.css';import{List,ListNote}from\"../../../../components/List\";import{Link}from'react-router-dom';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.min.css';var UserNotes=function UserNotes(_ref){var history=_ref.history;var _useState=useState({bookmarks:[],showHideEdit:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var token=getCookie('token');useEffect(function(){loadProfile();},[]);var loadProfile=function loadProfile(){axios({method:'GET',url:\"\".concat(process.env.REACT_APP_API,\"/user/\").concat(isAuth()._id),headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){var _response$data=response.data,role=_response$data.role,name=_response$data.name,email=_response$data.email,bookmarks=_response$data.bookmarks;setValues(_objectSpread({},values,{role:role,name:name,email:email,bookmarks:bookmarks}));console.log(bookmarks);}).catch(function(error){if(error.response.status===401){signout(function(){history.push('/');});}});};var name=values.name,bookmarks=values.bookmarks;//show notes in form\nvar handleEditBookmarks=function handleEditBookmarks(l,c,d,i){return React.createElement(Fragment,null,React.createElement(\"div\",null,React.createElement(Link,{className:\"nav-link bookmark-link\",to:'/lesson/'+l},\"Click to go to lesson...\"),React.createElement(\"div\",{className:\"bookmark-category\"},c),React.createElement(\"div\",{className:\"bookmark-date\"},convertDate(d)),React.createElement(\"hr\",null),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"bookmark-delete-btn\",onClick:function onClick(){return RemoveBookmark(i);}},\"Delete Bookmark\"))));};//convert to date\nvar convertDate=function convertDate(date){var arr1=date.split(\"T\");var arr2=arr1[0].split(\"-\");var dateyear=arr2[2]+\", \"+arr2[0];switch(arr2[1]){case'01':return\"Jan. \"+dateyear;break;case'02':return\"Feb. \"+dateyear;break;case'03':return\"March \"+dateyear;break;case'04':return\"Apr. \"+dateyear;break;case'05':return\"May \"+dateyear;break;case'06':return\"June \"+dateyear;break;case'07':return\"July \"+dateyear;break;case'08':return\"Aug. \"+dateyear;break;case'09':return\"Sept. \"+dateyear;break;case'10':return\"Oct. \"+dateyear;break;case'11':return\"Nov. \"+dateyear;break;case'12':return\"Dec. \"+dateyear;break;}};var RemoveBookmark=function RemoveBookmark(Bookmark_id){axios({method:'DELETE',url:\"\".concat(process.env.REACT_APP_API,\"/bookmarks/\")+Bookmark_id,headers:{Authorization:'Bearer '+token}}).then(function(response){var bookmarkArr=values.bookmarks.filter(function(mark){return mark._id!==Bookmark_id;});console.log(bookmarkArr);setValues({bookmarks:bookmarkArr});toast.success('Bookmark was Removed!');});};return React.createElement(\"div\",{className:\"container\",style:{overflow:'auto'}},React.createElement(\"h3\",{id:\"note-name-header\"},\" \",name,\"'s Bookmarks \"),bookmarks.length?React.createElement(List,null,bookmarks.map(function(bookmark){return React.createElement(ListNote,{key:bookmark._id},handleEditBookmarks(bookmark.Lesson_id,React.createElement(\"div\",null,bookmark.lesson_title),bookmark.date,bookmark._id));})):React.createElement(\"h6\",null,\"You have no bookmarks saved to your profile.\"));};export default UserNotes;","map":{"version":3,"sources":["C:/Users/User/Desktop/Project3Lessons/client/src/core/pages/Private/components/Bookmarks/Bookmarks.js"],"names":["React","useState","useEffect","Fragment","axios","isAuth","getCookie","signout","List","ListNote","Link","toast","UserNotes","history","bookmarks","showHideEdit","values","setValues","token","loadProfile","method","url","process","env","REACT_APP_API","_id","headers","Authorization","then","response","data","role","name","email","console","log","catch","error","status","push","handleEditBookmarks","l","c","d","i","convertDate","RemoveBookmark","date","arr1","split","arr2","dateyear","Bookmark_id","bookmarkArr","filter","mark","success","overflow","length","map","bookmark","Lesson_id","lesson_title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\n// import Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth, getCookie, signout } from '../../../../../auth/helpers';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { List, ListNote } from \"../../../../components/List\";\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\n\r\n\r\nconst UserNotes = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        bookmarks: [],\r\n        showHideEdit: false\r\n\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, []);\r\n\r\n    const loadProfile = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then(response => {\r\n                const { role, name, email, bookmarks } = response.data;\r\n                setValues({ ...values, role, name, email, bookmarks });\r\n                console.log(bookmarks)\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 401) {\r\n                    signout(() => {\r\n                        history.push('/');\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    const { name, bookmarks } = values;\r\n\r\n    //show notes in form\r\n    const handleEditBookmarks = (l, c, d, i) => {\r\n        return (\r\n            <Fragment>\r\n                <div>\r\n                <Link className=\"nav-link bookmark-link\" to={'/lesson/'+ l}>Click to go to lesson...</Link>\r\n                    <div className=\"bookmark-category\">{c}</div>\r\n                    <div className=\"bookmark-date\">{convertDate(d)}</div>\r\n                    <hr />\r\n                    <div><button className=\"bookmark-delete-btn\" onClick={()=> RemoveBookmark(i)}>Delete Bookmark</button></div>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    //convert to date\r\n    const convertDate = (date) => {\r\n        let arr1 = date.split(\"T\")\r\n        let arr2 = arr1[0].split(\"-\")\r\n        let dateyear = arr2[2] + \", \" + arr2[0];\r\n        switch (arr2[1]) {\r\n            case '01': return \"Jan. \" + dateyear;\r\n                break;\r\n            case '02': return \"Feb. \" + dateyear;\r\n                break;\r\n            case '03': return \"March \" + dateyear;\r\n                break;\r\n            case '04': return \"Apr. \" + dateyear;\r\n                break;\r\n            case '05': return \"May \" + dateyear;\r\n                break;\r\n            case '06': return \"June \" + dateyear;\r\n                break;\r\n            case '07': return \"July \" + dateyear;\r\n                break;\r\n            case '08': return \"Aug. \" + dateyear;\r\n                break;\r\n            case '09': return \"Sept. \" + dateyear;\r\n                break;\r\n            case '10': return \"Oct. \" + dateyear;\r\n                break;\r\n            case '11': return \"Nov. \" + dateyear;\r\n                break;\r\n            case '12': return \"Dec. \" + dateyear;\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const RemoveBookmark = (Bookmark_id) => {\r\n        axios({\r\n            method: 'DELETE',\r\n            url: `${process.env.REACT_APP_API}/bookmarks/`+ Bookmark_id,\r\n            headers: {\r\n                Authorization: 'Bearer '+ token\r\n            }\r\n        })\r\n            .then(response => {\r\n                let bookmarkArr = values.bookmarks.filter( mark => mark._id !== Bookmark_id )\r\n                console.log(bookmarkArr)\r\n                 setValues({ bookmarks: bookmarkArr})\r\n                    toast.success('Bookmark was Removed!');\r\n                });\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\" style={{overflow: 'auto'}}>\r\n            <h3 id=\"note-name-header\"> {name}'s Bookmarks </h3>\r\n            {bookmarks.length ? (\r\n                <List>\r\n                    {bookmarks.map(bookmark => (\r\n                        <ListNote key={bookmark._id}>\r\n                            {handleEditBookmarks(bookmark.Lesson_id, <div>{bookmark.lesson_title}</div>, bookmark.date, bookmark._id)}\r\n                        </ListNote>\r\n                    ))}\r\n                </List>\r\n            ) : (\r\n                    <h6>You have no bookmarks saved to your profile.</h6>\r\n                )}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserNotes;\r\n"]},"metadata":{},"sourceType":"module"}